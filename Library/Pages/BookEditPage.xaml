<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Library.Pages.BookEditPage"
             xmlns:viewmodel="clr-namespace:Library.ViewModels"             
             Title="{Binding Title}"
             x:DataType="viewmodel:BookViewModel" FlowDirection="RightToLeft">
    <ContentPage.Resources>
        <Style x:Key="label" TargetType="Label">
            <Setter Property="Padding" Value="10"/>
        </Style>
    </ContentPage.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="18*"/>
            <RowDefinition Height="18*"/>
            <RowDefinition Height="18*"/>
            <RowDefinition Height="18*"/>
            <RowDefinition Height="26*"/>
            <RowDefinition Height="10*"/>
        </Grid.RowDefinitions>


        <FlexLayout Grid.Row="0" Wrap="NoWrap" AlignItems="Center">
            <Label Text="عنوان" Style="{StaticResource label}" MinimumWidthRequest="75"></Label>
            <Entry Text="{Binding Title}" Placeholder="عنوان" FlexLayout.Grow="1"/>
        </FlexLayout>

        <FlexLayout Grid.Row="1" Wrap="NoWrap" AlignItems="Center">
            <Label Text="توضیح" Style="{StaticResource label}" MinimumWidthRequest="75"/>
            <Entry Text="{Binding Description}" Placeholder="توضیح"   FlexLayout.Grow="1"/>
        </FlexLayout>

        <FlexLayout Grid.Row="2" Wrap="NoWrap" AlignItems="Center">
            <Label Text="ناشر" Style="{StaticResource label}" MinimumWidthRequest="75"/>
            <Entry Text="{Binding Publisher}" Placeholder="ناشر" FlexLayout.Grow="1"/>
        </FlexLayout>

        <FlexLayout Grid.Row="3" Wrap="NoWrap" AlignItems="Center">
            <Label Text="نویسنده" Style="{StaticResource label}" MinimumWidthRequest="75"></Label>
            <Entry Text="{Binding Author}" Placeholder="نویسنده" FlexLayout.Grow="1"/>
        </FlexLayout>



        
        <Image Grid.Row="4" Source="{Binding CoverImage}" Margin="0,1" >
            <Image.GestureRecognizers>
                    <TapGestureRecognizer Command="{Binding SelectImageCommand}"
                              NumberOfTapsRequired="1" />
                    <ClickGestureRecognizer Command="{Binding SelectImageCommand}"
                             />
                </Image.GestureRecognizers>
            </Image>


        <Button Text="ذخیره" Command="{Binding SaveCommand}" Grid.Row="5"/>
    </Grid>
</ContentPage>